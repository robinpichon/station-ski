{% extends 'materialize/layout.html.twig' %}
{% block title %}Créer un compte{% endblock %}

{% block content %}
  <div class="row">
      <h4>Créer un compte</h4>

      {{ form_start(form) }}

      {% if not form.vars.valid %}
      <div id="card-alert" class="card red" style="margin-bottom: 30px;">
        <div class="card-content white-text">
          <p>{{ "Une ou plusieurs erreurs ont été détectées dans le formulaire." }}<br>{{ form_errors(form)|trim('<ul><li>')|trim('</li></ul>') }}</p>
        </div>
      </div>
      {% endif %}

      <div class="input-field">
        {{ form_widget(form.firstname, {'attr': {'class': 'validate'}}) }}
        {{ form_label(form.firstname, "Prénom") }}
        <font color="red">{{ form_errors(form.firstname) }}</font>
      </div>
      <div class="input-field">
        {{ form_widget(form.lastname, {'attr': {'class': 'validate'}}) }}
        {{ form_label(form.lastname, "Nom") }}
        <font color="red">{{ form_errors(form.lastname) }}</font>
      </div>
      <div class="input-field">
        {{ form_widget(form.email, {'attr': {'class': 'validate'}}) }}
        {{ form_label(form.email, "Adresse mail") }}
        <font color="red">{{ form_errors(form.email) }}</font>
      </div>
      <div class="input-field">
        {{ form_widget(form.password.first, {'attr': {'class': 'validate'}}) }}
        {{ form_label(form.password.first, "Mot de passe") }}
        <font color="red">{{ form_errors(form.password.first) }}</font>
      </div>
      <div class="input-field">
        {{ form_widget(form.password.second, {'attr': {'class': 'validate'}}) }}
        {{ form_label(form.password.second, "Confirmer le mot de passe") }}
        <font color="red">{{ form_errors(form.password.second) }}</font>
      </div>

      <div class="g-recaptcha" data-sitekey="6LcpBDQUAAAAAA024vE3S04JHYQkwyuT0l2A2cUG"></div>
      {{ form_widget(form.save, {'label': 'Valider', 'attr': {'class': 'modal-action waves-effect waves-green btn', 'style': 'margin-top: 10px'}}) }}

      {{ form_rest(form) }}
      {{ form_end(form) }}
  </div>
  <script src='https://www.google.com/recaptcha/api.js'></script>
{% endblock %}
